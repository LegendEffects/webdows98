{"version":3,"sources":["reportWebVitals.ts","app/contexts/UserContext.tsx","app/interfaces/ActionType.ts","app/contexts/SystemContext.tsx","app/utils/CreateApplicationInstance.ts","app/components/element/desktop/window/menu/WindowMenuBar.tsx","app/components/element/desktop/window/WindowScrollResize.tsx","app/components/element/global/dropdown/Dropdown.tsx","app/components/element/desktop/window/menu/WindowMenuAccessKey.tsx","app/components/element/desktop/window/menu/WindowMenuAccessKeyDropdown.tsx","app/components/element/global/dropdown/DropdownItem.tsx","app/components/element/desktop/window/structure/WindowElements.tsx","app/components/element/application/notepad/NotepadApp.tsx","app/components/element/desktop/BuildInfo.tsx","app/components/element/desktop/DesktopContainer.tsx","app/utils/DateFormat.ts","app/components/element/desktop/taskbar/TaskbarClock.tsx","app/interfaces/DragType.ts","app/hooks/useDate.ts","app/components/element/desktop/taskbar/volume/VolumePopout.tsx","app/components/element/desktop/taskbar/volume/VolumeIcon.tsx","app/components/element/desktop/taskbar/NotificationArea.tsx","app/components/element/desktop/taskbar/start/StartMenu.tsx","app/components/element/desktop/taskbar/start/StartButton.tsx","assets/start_button.png","app/constants/Taskbar.ts","app/components/element/desktop/taskbar/QuickLaunchItem.tsx","app/components/element/desktop/taskbar/Taskbar.tsx","app/hooks/useMousePos.ts","app/contexts/WindowContext.tsx","app/components/element/desktop/window/structure/WindowFrame.tsx","app/components/element/global/Icon.tsx","app/components/element/desktop/window/structure/WindowTitleBar.tsx","app/components/element/desktop/window/Window.tsx","app/components/element/desktop/WindowDrag.tsx","app/components/element/desktop/WindowArea.tsx","assets/sound/98/startup.mp3","app/components/screen/Desktop.tsx","app/components/element/login/LoginWindow.tsx","app/utils/DefineApplication.ts","app/components/screen/Login.tsx","app.tsx","index.tsx"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","UserContext","React","createContext","undefined","userReducer","state","action","type","volume","value","authenticated","user","UserProvider","children","useReducer","Provider","useUser","context","useContext","Error","ActionType","SystemContext","modifyWindow","modifier","windows","key","findIndex","window","uuid","systemReducer","uuidv4","push","focusedWindow","focus","visible","frame","docked","x","y","width","height","topUuid","withoutTop","filter","w","topWindow","find","reorderWindows","target","dragging","mousePos","mouse","targetUuid","SystemProvider","useSystem","defaultFrame","actions","RESTORE","MINIMIZE","CLOSE","resizable","decorated","createApplicationInstance","details","component","Object","assign","WindowMenuBar","styled","div","WindowScrollResize","DropdownContainer","DropdownInner","Dropdown","forwardRef","ref","className","WindowMenuAccessKey","button","WindowMenuContainer","WindowMenuAccessKeyDropdown","title","useState","isOpen","setIsOpen","dropdown","useRef","onMouseLeave","e","onClick","DropdownItem","icon","WindowFrameContainer","WindowBody","WindowTitleBarContainer","WindowTitleBarText","TextArea","textarea","NotepadApp","wrap","BuildInfoContainer","BuildInfo","DesktopContainer","formatDate","date","options","Intl","DateTimeFormat","format","DragType","TaskbarClock","val","Date","setDate","useEffect","timer","setInterval","clearInterval","useDate","style","whiteSpace","userSelect","dateStyle","getHours","getMinutes","VolumePopoutContainer","VolumePopout","userDispatch","transform","min","max","step","onChange","valueAsNumber","VolumeIcon","NotificationArea","InsetPanel","marginLeft","marginRight","StartMenuContainer","StartMenuInner","StartMenuGradient","StartMenuList","StartMenuSeparator","StartMenuItem","StartMenu","dispatchUser","name","StartBtnContainer","StartBtn","StartButton","startBtnContainer","onMouseDownEvent","current","contains","addEventListener","removeEventListener","QuickLaunchItem","TaskbarContainer","Panel","PanelSeparator","TaskbarGrip","TASKBAR_HEIGHT","WindowButton","Taskbar","system","dispatch","setWindows","result","forEach","overflow","map","useMousePos","setMousePos","handler","WindowContext","WindowProvider","WindowFrame","z","focused","props","zIndex","Icon","size","WindowTitleBar","availableActions","onAction","includes","aria-label","disabled","Window","data-uuid","onMouseDown","WindowDragOutline","WindowDrag","MOVE","RESIZE","cursor","HIGHLIGHT","Math","abs","WindowContainer","WindowArea","preventHighlighting","el","classList","preventDefault","container","element","limit","i","getAttribute","parentElement","findWindowContainer","windowInstance","onMouseUp","handleDragStop","DesktopInner","useSound","startupSound","playStartup","Desktop","defineApplication","username","setUsername","useWindow","doLogin","anonymous","gridTemplateColumns","autoComplete","autoFocus","innerWidth","innerHeight","LoginInner","LoginWindow","Login","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ca659d32.chunk.js","sourcesContent":["import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\r\nimport IUser from \"../interfaces/IUser\";\r\n\r\nexport interface IUserState {\r\n  volume: number;\r\n\r\n  authenticated: boolean;\r\n  user: IUser | null;\r\n}\r\n\r\ntype UserAction =\r\n  | { type: 'SET_VOLUME', value: number     }\r\n  | { type: 'SET_USER', value: IUser | null }\r\n  | { type: 'LOGOUT'                        }\r\n  ;\r\n\r\nexport const UserContext = React.createContext<[\r\n  IUserState,\r\n  React.Dispatch<UserAction>\r\n]>(undefined as any);\r\n\r\nfunction userReducer(state: IUserState, action: UserAction): IUserState {\r\n  switch(action.type) {\r\n    case 'SET_VOLUME':\r\n      return {\r\n        ...state,\r\n        volume: action.value,\r\n      };\r\n    case 'SET_USER':\r\n      return {\r\n        ...state,\r\n        authenticated: true,\r\n        user: action.value\r\n      };\r\n    case 'LOGOUT':\r\n      return {\r\n        ...state,\r\n        authenticated: false,\r\n        user: null\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const UserProvider: React.FC = ({ children }) => {\r\n  const value = React.useReducer(userReducer, {\r\n    volume: .1,\r\n    authenticated: false,\r\n    user: null,\r\n  });\r\n\r\n  return (\r\n    <UserContext.Provider value={value}>\r\n      {children}\r\n    </UserContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useUser() {\r\n  const context = React.useContext(UserContext);\r\n\r\n  if(context === undefined) {\r\n    throw new Error('useUser must be used within a UserProvider');\r\n  }\r\n\r\n  return context;\r\n}\r\n\r\n","enum ActionType {\r\n  CLOSE=\"Close\",\r\n  RESTORE=\"Restore\",\r\n  MINIMIZE=\"Minimize\",\r\n}\r\n\r\nexport default ActionType;","import React from \"react\";\r\nimport IWindow from \"../interfaces/IWindow\";\r\nimport ISystemState from \"../interfaces/state/ISystemState\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport ILocation from \"../interfaces/ILocation\";\r\nimport DragType from \"../interfaces/DragType\";\r\n\r\ntype SystemAction = \r\n  | { type: 'CREATE_WINDOW',  window: Omit<IWindow, 'uuid'>, focus?: boolean    }\r\n  | { type: 'TOGGLE_DOCKED',  uuid:  string                                     }\r\n  | { type: 'SET_DOCKED',     uuid:  string, value: boolean                     }\r\n  | { type: 'SET_VISIBILITY', uuid:  string, value: boolean                     }\r\n  | { type: 'SET_LOCATION',   uuid:  string, x: number, y: number               }\r\n  | { type: 'SET_SIZE',       uuid:  string, width: number, height: number      }\r\n  | { type: 'SET_FOCUSED',    uuid?: string                                     }\r\n  | { type: 'START_DRAG',     uuid?: string, action: DragType, mouse: ILocation }\r\n  | { type: 'STOP_DRAG'                                                         }\r\n  ;\r\n\r\nexport const SystemContext = React.createContext<[\r\n  ISystemState,\r\n  React.Dispatch<SystemAction>\r\n]>(undefined as any);\r\n\r\nfunction modifyWindow(state: ISystemState, action: SystemAction & {uuid: string}, modifier: (window: IWindow) => IWindow) {\r\n  const windows = [...state.windows];\r\n\r\n  const key = windows.findIndex(window => window.uuid === action.uuid);\r\n  windows[key] = modifier(windows[key]);\r\n\r\n  return {\r\n    ...state,\r\n    windows\r\n  }\r\n}\r\n\r\n// function modifyWindows(state: ISystemState, modifier: (windows: IWindow[]) => IWindow[]) {\r\n//   return {\r\n//     ...state,\r\n//     windows: modifier([...state.windows])\r\n//   }\r\n// }\r\n\r\nfunction reorderWindows(state: ISystemState, topUuid: string): ISystemState {\r\n  const windows = [...state.windows];\r\n\r\n  const withoutTop = windows.filter((w) => w.uuid !== topUuid);\r\n  const topWindow = windows.find((w) => w.uuid === topUuid);\r\n\r\n  if(topWindow) {\r\n    withoutTop.push(topWindow)\r\n  }\r\n\r\n  return {\r\n    ...state,\r\n    windows: withoutTop\r\n  }\r\n}\r\n\r\nfunction systemReducer(state: ISystemState, action: SystemAction): ISystemState {\r\n  switch(action.type) {\r\n    case 'CREATE_WINDOW':\r\n      const uuid = uuidv4();\r\n      const windows = [...state.windows];\r\n\r\n      windows.push({\r\n        ...action.window,\r\n        uuid\r\n      });\r\n\r\n      return {\r\n        ...state,\r\n        windows,\r\n        focusedWindow: (action.focus ? uuid : state.focusedWindow)\r\n      }\r\n    case 'SET_VISIBILITY':\r\n      return {\r\n        ...modifyWindow(state, action, (window) => {\r\n          window.visible = action.value;\r\n          return window;\r\n        }),\r\n        focusedWindow: (action.value === true) ? action.uuid : undefined,\r\n      };\r\n    case 'TOGGLE_DOCKED':\r\n      return modifyWindow(state, action, (window) => {\r\n        window.frame.docked = !window.frame.docked;\r\n        return window;\r\n      });\r\n    case 'SET_DOCKED':\r\n      return modifyWindow(state, action, (window) => {\r\n        window.frame.docked = action.value;\r\n        return window;\r\n      });\r\n    case 'SET_LOCATION':\r\n      return modifyWindow(state, action, (window) => {\r\n        window.frame.x = action.x;\r\n        window.frame.y = action.y;\r\n        return window;\r\n      });\r\n    case 'SET_SIZE':\r\n      return modifyWindow(state, action, (window) => {\r\n        window.frame.width = action.width;\r\n        window.frame.height = action.height;\r\n        return window;\r\n      });\r\n    case 'SET_FOCUSED':\r\n      return {\r\n        ...(action.uuid ? reorderWindows(state, action.uuid) : state),\r\n        focusedWindow: action.uuid\r\n      };\r\n    case 'START_DRAG':\r\n      const target = (!action.uuid) ? undefined : state.windows.find((w) => w.uuid === action.uuid);\r\n\r\n      return {\r\n        ...state,\r\n        dragging: {\r\n          type:       action.action,\r\n          mousePos:   action.mouse,\r\n          targetUuid: action.uuid,\r\n          target\r\n        }\r\n      };\r\n    case 'STOP_DRAG':\r\n      return {\r\n        ...state,\r\n        dragging: undefined\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport function SystemProvider({ children }: { children: React.ReactNode }) {\r\n  const value = React.useReducer(systemReducer, {\r\n    windows: [],\r\n    volume: 1,\r\n  });\r\n\r\n  return (\r\n    <SystemContext.Provider value={value}>\r\n      {children}\r\n    </SystemContext.Provider>\r\n  )\r\n}\r\n\r\nexport function useSystem() {\r\n  const context = React.useContext(SystemContext);\r\n\r\n  if(context === undefined) {\r\n    throw new Error('useSystem must be used within a SystemProvider');\r\n  }\r\n\r\n  return context;\r\n}","import ActionType from \"../interfaces/ActionType\";\r\nimport IBaseApplication from \"../interfaces/IBaseApplication\";\r\nimport IWindow from \"../interfaces/IWindow\";\r\n\r\nconst defaultFrame= {\r\n  x: 0,\r\n  y: 0,\r\n  width: 300,\r\n  height: 200,\r\n  actions: [ActionType.RESTORE, ActionType.MINIMIZE, ActionType.CLOSE],\r\n  docked: false,\r\n  resizable: true,\r\n  decorated: true,\r\n}\r\n\r\nexport default function createApplicationInstance({ details, component }: IBaseApplication): Omit<IWindow, 'uuid'> {\r\n  const frame: IWindow['frame'] = Object.assign({}, defaultFrame, details, {\r\n    component\r\n  });\r\n\r\n  return {\r\n    visible: true,\r\n    frame\r\n  }\r\n}","import styled from \"@emotion/styled\";\r\n\r\n\r\n/**\r\n * A menu bar, one of the most common forms of a menu interface, is a\r\n * special area displayed across the top of a window directly below the title\r\n * bar\r\n * \r\n * - Microsoft Windows User Experience Pg. 138\r\n */\r\nconst WindowMenuBar = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  \r\n  height: 18px;\r\n  \r\n  margin: 1px 3px;\r\n  margin-bottom: 0;\r\n  \r\n  background: var(--surface);\r\n`\r\n\r\nexport default WindowMenuBar;","import styled from \"@emotion/styled\";\r\n\r\nconst WindowScrollResize = styled.div`\r\n  position: absolute;\r\n  bottom: 0;\r\n  right: 0;\r\n  \r\n  width: 16px;\r\n  height: 17px; /* Strange positioning of the vertical scrollbar */\r\n\r\n  background-color: var(--surface);\r\n  \r\n  &:after {\r\n    position: absolute;\r\n    width: 16px;\r\n    height: 16px;\r\n\r\n    bottom: 0;\r\n    right: 0;\r\n    \r\n    content: \"\";\r\n\r\n    background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFyGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDggNzkuMTY0MDM2LCAyMDE5LzA4LzEzLTAxOjA2OjU3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIxLTA0LTExVDE3OjIyOjQ1KzAxOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIxLTA0LTExVDE3OjIyOjQ1KzAxOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMS0wNC0xMVQxNzoyMjo0NSswMTowMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDphNTBiZmMwOC0zYTA2LWJmNGMtYmQ2NS1iYTAzMjA5NWEwNDMiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDphMDgzMzdlYy01OTU5LTZlNGItOTc0ZS01NGNiNjliYjE1YWMiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo0MDFiNzU4Zi04ZWM5LTMyNDYtOTE3OC0xYmE5N2ZiNmI4ZTAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo0MDFiNzU4Zi04ZWM5LTMyNDYtOTE3OC0xYmE5N2ZiNmI4ZTAiIHN0RXZ0OndoZW49IjIwMjEtMDQtMTFUMTc6MjI6NDUrMDE6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMS4wIChXaW5kb3dzKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YTUwYmZjMDgtM2EwNi1iZjRjLWJkNjUtYmEwMzIwOTVhMDQzIiBzdEV2dDp3aGVuPSIyMDIxLTA0LTExVDE3OjIyOjQ1KzAxOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+ZejuAwAAAENJREFUOMvt0DEKADAIBEGf7s83XSAQ5eK1KSxn4QwgnIsf8HBmenga2HjygwPj4pcJV6wGSqz8oMW4uJsg4SogYyAWnUkB5CVzhGoAAAAASUVORK5CYII=\");\r\n  }\r\n`\r\n\r\nexport default WindowScrollResize;","import styled from \"@emotion/styled\";\r\nimport React from \"react\";\r\n\r\nconst DropdownContainer = styled.div`\r\n  position: absolute;\r\n  left: 0;\r\n  bottom: 0;\r\n  z-index: 50;\r\n\r\n  transform: translateY(100%);\r\n  color: #000;\r\n\r\n  width: 158px;\r\n  background: var(--surface);\r\n  box-shadow: var(--border-window-outer);\r\n  padding: 1px;\r\n`\r\n\r\nconst DropdownInner = styled.div`\r\n  box-shadow: inset -1px -1px var(--button-shadow), inset 1px 1px var(--button-highlight);\r\n  padding: 2px;\r\n`\r\n\r\nconst Dropdown = React.forwardRef<HTMLDivElement, {children: React.ReactNode}>(({ children }, ref) => (\r\n  <DropdownContainer className=\"dropdown\" ref={ref}>\r\n    <DropdownInner>\r\n      {children}\r\n    </DropdownInner>\r\n  </DropdownContainer>\r\n));\r\n\r\nexport default Dropdown;","import styled from \"@emotion/styled\";\r\n\r\nconst WindowMenuAccessKey = styled.button`\r\n  min-height: 100%;\r\n  min-width: initial;\r\n  \r\n  box-shadow: none;\r\n\r\n  padding: 3px 5px;\r\n\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n  \r\n  &:hover {\r\n    box-shadow: inset -1px -1px var(--button-shadow), inset 1px 1px var(--button-highlight);\r\n  }\r\n  \r\n  &:not(:disabled).active,\r\n  &:not(:disabled):active {\r\n    box-shadow: inset -1px -1px var(--button-highlight), inset 1px 1px var(--button-shadow);\r\n  }\r\n`\r\n\r\nexport default WindowMenuAccessKey;","import styled from \"@emotion/styled\";\r\nimport React from \"react\"\r\nimport Dropdown from \"../../../global/dropdown/Dropdown\";\r\nimport WindowMenuAccessKey from \"./WindowMenuAccessKey\";\r\n\r\nexport interface WindowMenuAccessKeyDropdownProps {\r\n  title: string;\r\n}\r\n\r\nconst WindowMenuContainer = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n`\r\n\r\nconst WindowMenuAccessKeyDropdown: React.FC<WindowMenuAccessKeyDropdownProps> = ({ title, children }) => {\r\n  const [ isOpen, setIsOpen ] = React.useState(false);\r\n  const dropdown = React.useRef<HTMLDivElement>(null);\r\n\r\n  return (\r\n    <WindowMenuContainer\r\n      onMouseLeave={(e) => {\r\n        setIsOpen(false);\r\n      }}\r\n      >\r\n      <WindowMenuAccessKey \r\n        className={isOpen ? 'active' : undefined}\r\n        onClick={() => {\r\n          setIsOpen(!isOpen);\r\n        }}\r\n        >\r\n          {title}\r\n      </WindowMenuAccessKey>\r\n\r\n      {isOpen && (\r\n        <Dropdown ref={dropdown}>\r\n          {children}\r\n        </Dropdown>\r\n      )}\r\n    </WindowMenuContainer>\r\n  )\r\n}\r\n\r\nexport default WindowMenuAccessKeyDropdown;","import styled from \"@emotion/styled\";\r\nimport React from \"react\";\r\n\r\nconst DropdownContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  \r\n  padding: 2px;\r\n\r\n  .icon {\r\n    width: 16px;\r\n    height: 16px;\r\n    margin-right: 4px;\r\n  }\r\n\r\n  &:hover {\r\n    background: var(--dialog-blue);\r\n    color: #fff;\r\n  }\r\n`;\r\n\r\n// export default DropdownItem;\r\n\r\nexport interface DropdownItemProps {\r\n  icon?: string;\r\n}\r\n\r\nconst DropdownItem: React.FC<DropdownItemProps> = ({ children, icon }) => {\r\n  return (\r\n    <DropdownContainer>\r\n      <div className={`icon ${icon && `${icon}_16`}`} />\r\n      {children}\r\n    </DropdownContainer>\r\n  )\r\n}\r\n\r\nexport default DropdownItem","import styled from \"@emotion/styled\";\r\n\r\nexport const WindowFrameContainer = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n\r\n  will-change: contents;\r\n  \r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  &.docked {\r\n    padding: 0;\r\n    box-shadow: none;\r\n  }\r\n\r\n  &.focused .title-bar {\r\n    background: linear-gradient(90deg, var(--dialog-blue), var(--dialog-blue-light));\r\n    color: var(--button-highlight);\r\n  }\r\n`;\r\n\r\nexport const WindowBody = styled.div`\r\n  position: relative;\r\n  height: 100%;\r\n  margin: 3px;\r\n`;\r\n\r\nexport const WindowTitleBarContainer = styled.div`\r\n  background: linear-gradient(90deg,var(--button-shadow),#b5b5b5);\r\n  color: var(--surface);\r\n\r\n  user-select: none;\r\n`;\r\n\r\nexport const WindowTitleBarText = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n\r\n  .icon {\r\n    margin-right: 3px;\r\n  }\r\n`;","import styled from \"@emotion/styled\";\r\nimport WindowMenuBar from \"../../desktop/window/menu/WindowMenuBar\";\r\nimport WindowScrollResize from \"../../desktop/window/WindowScrollResize\";\r\nimport WindowMenuAccessKeyDropdown from \"../../desktop/window/menu/WindowMenuAccessKeyDropdown\";\r\nimport DropdownItem from \"../../global/dropdown/DropdownItem\";\r\nimport IBaseApplication from \"../../../../interfaces/IBaseApplication\";\r\nimport { WindowBody } from \"../../desktop/window/structure/WindowElements\";\r\n\r\nconst TextArea = styled.textarea`\r\n  width: 100%;\r\n  height: 100%;\r\n  resize: none;\r\n  overflow: scroll;\r\n`\r\n\r\nconst NotepadApp: IBaseApplication = {\r\n  details: {\r\n    title:  'Untitled - Notepad',\r\n    icon:   'icon-notepad',\r\n    width:  300,\r\n    height: 200\r\n  },\r\n\r\n  component: () => {\r\n    return (\r\n      <>\r\n        <WindowMenuBar>\r\n          <WindowMenuAccessKeyDropdown title=\"File\">\r\n            <DropdownItem>New</DropdownItem>\r\n            <DropdownItem>Open</DropdownItem>\r\n            <DropdownItem>Save</DropdownItem>\r\n            <DropdownItem>Save As</DropdownItem>\r\n          </WindowMenuAccessKeyDropdown>\r\n  \r\n          <WindowMenuAccessKeyDropdown title=\"Edit\" /> \r\n          <WindowMenuAccessKeyDropdown title=\"Format\" />\r\n          <WindowMenuAccessKeyDropdown title=\"Help\" />\r\n        </WindowMenuBar>\r\n        \r\n        <WindowBody>\r\n          <TextArea wrap=\"off\" />\r\n          <WindowScrollResize className=\"resize-point cursor-nwse-resize\" />\r\n        </WindowBody>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default NotepadApp;","import styled from '@emotion/styled';\r\nimport React from 'react';\r\n\r\nconst BuildInfoContainer = styled.div`\r\n  position: absolute;\r\n  bottom: 10px;\r\n  right: 10px;\r\n\r\n  font-weight: bold;\r\n  font-size: 14px;\r\n  color: white;\r\n  text-shadow: 2px 2px 0 black;\r\n\r\n  user-select: none;\r\n`;\r\n\r\nconst BuildInfo: React.FC = () => {\r\n  return (\r\n    <BuildInfoContainer>\r\n      Very Legitimate Windows 98\r\n    </BuildInfoContainer>\r\n  )\r\n}\r\n\r\nexport default BuildInfo;","import styled from \"@emotion/styled\";\r\n\r\nconst DesktopContainer = styled.div`\r\n  display: flex;\r\n  flex: 1 1 auto;\r\n  flex-direction: column;\r\n\r\n  background: rgb(13,113,115);\r\n  overflow: hidden;\r\n`;\r\n\r\nexport default DesktopContainer;","export function formatDate(date: Date, options?: Intl.DateTimeFormatOptions) {\r\n  return new Intl.DateTimeFormat(undefined, options).format(date);\r\n}","import React from 'react';\r\nimport useDate from '../../../../hooks/useDate';\r\nimport { formatDate } from '../../../../utils/DateFormat';\r\n\r\nfunction pad(val: number) {\r\n  if(val < 10) {\r\n    return '0' + val;\r\n  }\r\n  return val;\r\n}\r\n\r\nconst TaskbarClock: React.FC = () => {\r\n  const date = useDate();\r\n\r\n  return (\r\n    <div \r\n      style={{whiteSpace: 'nowrap', userSelect: 'none'}}\r\n      title={formatDate(date, { dateStyle: 'full' })}\r\n      >\r\n        {date.getHours() % 12}:{pad(date.getMinutes())} {date.getHours() < 12 ? 'AM' : 'PM'}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TaskbarClock;","enum DragType {\r\n  MOVE,\r\n  RESIZE,\r\n  HIGHLIGHT\r\n}\r\n\r\nexport default DragType;","import React from \"react\";\r\n\r\nexport default function useDate() {\r\n  const [ date, setDate ] = React.useState(new Date());\r\n  \r\n  React.useEffect(() => {\r\n    const timer = setInterval(() => {\r\n      setDate(new Date());\r\n    }, 1000);\r\n\r\n    return () => {\r\n      clearInterval(timer);\r\n    }\r\n  }, []);\r\n\r\n  return date;\r\n}","import styled from \"@emotion/styled\";\r\nimport React from \"react\";\r\nimport { useUser } from \"../../../../../contexts/UserContext\";\r\n\r\nconst VolumePopoutContainer = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  z-index: 9999;\r\n  user-select: none;\r\n  transform: translateY(-90%) translateX(-100%);\r\n\r\n  background: var(--surface);\r\n  box-shadow: var(--border-window-outer);\r\n\r\n  padding: 15px 0;\r\n\r\n  height: 100px;\r\n  width: 78px;\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  align-items: center;\r\n  justify-content: center;\r\n  text-align: center;\r\n`\r\n\r\nconst VolumePopout: React.FC = () => {\r\n  const [ { volume }, userDispatch ] = useUser();\r\n\r\n\r\n  return (\r\n    <VolumePopoutContainer>\r\n      <label>Volume</label>\r\n\r\n      <div className=\"is-vertical\" style={{transform: 'translateY(50%) translateX(-7px)'}}>\r\n        <input \r\n          className=\"has-box-indicator\"\r\n          type=\"range\" \r\n          min=\"0\" \r\n          max=\".75\" \r\n          step=\".01\" \r\n          style={{width: 65}}\r\n          value={volume} \r\n          onChange={(e) => {\r\n            userDispatch({ type: 'SET_VOLUME', value: e.target.valueAsNumber });\r\n          }}\r\n          />\r\n      </div>\r\n    </VolumePopoutContainer>\r\n  )\r\n}\r\n\r\nexport default VolumePopout;","import React from \"react\";\r\nimport VolumePopout from \"./VolumePopout\";\r\n\r\nconst VolumeIcon: React.FC = () => {\r\n  const [ isOpen, setIsOpen ] = React.useState(false);\r\n\r\n\r\n  return (\r\n    <div className=\"relative\">\r\n      <div \r\n        title=\"Volume\"\r\n        className=\"icon-loudspeaker_rays_16\"\r\n        onClick={() => {\r\n          setIsOpen(!isOpen);\r\n        }}\r\n        />\r\n\r\n      {isOpen && (\r\n        <VolumePopout />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default VolumeIcon;","import TaskbarClock from \"./TaskbarClock\";\r\nimport { InsetPanel } from \"./Taskbar\";\r\nimport VolumeIcon from \"./volume/VolumeIcon\";\r\n\r\nconst NotificationArea: React.FC = () => {\r\n  return (\r\n    <InsetPanel style={{marginLeft: 'auto'}}>\r\n      <VolumeIcon />\r\n      <div style={{marginLeft: '6px', marginRight: '6px'}}>\r\n        <TaskbarClock />\r\n      </div>\r\n    </InsetPanel>\r\n  )\r\n}\r\n\r\nexport default NotificationArea;","import styled from '@emotion/styled';\r\nimport React from 'react';\r\nimport { useUser } from '../../../../../contexts/UserContext';\r\n\r\nconst StartMenuContainer = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  z-index: 9999;\r\n  user-select: none;\r\n  height: 400px;\r\n  width: 171px;\r\n\r\n  transform: translateY(-100%);\r\n  background: var(--surface);\r\n\r\n  box-shadow: var(--border-window-outer);\r\n`\r\n\r\nconst StartMenuInner = styled.div`\r\n  display: flex;\r\n  height: 100%;\r\n  box-shadow: var(--border-window-inner);\r\n`;\r\n\r\nconst StartMenuGradient = styled.div`\r\n  position: relative;\r\n  overflow: hidden;\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: flex-end;\r\n  background: var(--dialog-blue);\r\n\r\n  min-width: 21px;\r\n  color: #fff;\r\n\r\n  margin: 2px;\r\n  margin-right: 0;\r\n  \r\n  .text {\r\n    transform: rotate(180deg);\r\n    writing-mode: vertical-lr;\r\n    text-orientation: mixed;\r\n    white-space: nowrap;\r\n    \r\n    font-size: 14px;\r\n    margin-bottom: 5px;\r\n  }\r\n\r\n  ::before {\r\n    position: absolute;\r\n    width: 100px;\r\n    height: 125px;\r\n\r\n    background: radial-gradient(#0000fe 0%, transparent 80%);\r\n\r\n    bottom: -30px;\r\n    content: \"\";\r\n  }\r\n`;\r\n\r\nconst StartMenuList = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-end;\r\n  \r\n  width: 100%;\r\n  margin: 2px;\r\n  margin-left: 0;\r\n`\r\n\r\nconst StartMenuSeparator = styled.div`\r\n  background-color: var(--button-shadow);\r\n  border-bottom: var(--border-width) solid var(--button-highlight);\r\n  height: 1px;\r\n\r\n  margin: 2px 3px;\r\n\r\n  content: \"\";\r\n`\r\n\r\nconst StartMenuItem = styled.button`\r\n  text-align: left;\r\n\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n  font-size: 11px;\r\n\r\n  height: 35px;\r\n  padding-left: 5px;\r\n  box-shadow: none;\r\n\r\n  .icon {\r\n    margin-right: 3px;\r\n  }\r\n  \r\n  &:hover {\r\n    background: var(--dialog-blue);\r\n    color: #fff;\r\n  }\r\n`\r\n\r\nexport interface StartMenuProps { }\r\n\r\nconst StartMenu: React.FC<StartMenuProps> = () => {\r\n  const [ { user }, dispatchUser ] = useUser();\r\n\r\n  return (\r\n    <StartMenuContainer>\r\n      <StartMenuInner>\r\n        <StartMenuGradient>\r\n          <div className=\"text\">\r\n            <b>Windows</b> Very Legitimate Edition\r\n          </div>\r\n        </StartMenuGradient>\r\n        <StartMenuList>\r\n          <StartMenuSeparator />\r\n\r\n          <StartMenuItem onClick={() => dispatchUser({ type: 'LOGOUT' })}>\r\n            <div className=\"icon icon-key_win_32\" />\r\n            Log Off{user?.name ? ` ${user.name}` : ''}...\r\n          </StartMenuItem>\r\n          <StartMenuItem>\r\n            <div className=\"icon icon-shut_down_normal_32\" />\r\n            Shut Down...\r\n          </StartMenuItem>\r\n\r\n        </StartMenuList>\r\n      </StartMenuInner>\r\n    </StartMenuContainer>\r\n  )\r\n}\r\n\r\nexport default StartMenu;","import styled from \"@emotion/styled\";\r\nimport React from \"react\";\r\nimport { TASKBAR_HEIGHT } from \"../../../../../constants/Taskbar\";\r\nimport StartMenu from \"./StartMenu\";\r\nimport startButtonImage from \"../../../../../../assets/start_button.png\";\r\n\r\nconst StartBtnContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  position: relative;\r\n`;\r\n\r\nconst StartBtn = styled.button`\r\n  background-image: url(${startButtonImage});\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n\r\n  min-height: initial;\r\n  min-width: initial;\r\n  \r\n  width: 54px;\r\n  height: ${TASKBAR_HEIGHT}px;\r\n`;\r\n\r\nconst StartButton: React.FC = () => {\r\n  const startBtnContainer = React.useRef<HTMLDivElement>(null);\r\n  const [ isOpen, setIsOpen ] = React.useState(false);\r\n\r\n  // Close the start menu if it's unfocused.\r\n  React.useEffect(() => {\r\n    const onMouseDownEvent = (e: MouseEvent) => {\r\n      // Ignore if it was a mouse down within the start menu\r\n      if(e.target && startBtnContainer.current?.contains(e.target as Node)) {\r\n        return;\r\n      }\r\n\r\n      setIsOpen(false);\r\n    }\r\n\r\n    window.addEventListener('mousedown', onMouseDownEvent);\r\n\r\n    return () => {\r\n      window.removeEventListener('mousedown', onMouseDownEvent);\r\n    }\r\n  }, [ ]);\r\n\r\n  return (\r\n    <StartBtnContainer ref={startBtnContainer}>\r\n      <StartBtn className={isOpen ? 'active' : undefined} onClick={() => {setIsOpen(!isOpen)}} />\r\n\r\n      {isOpen && (\r\n        <StartMenu/>\r\n      )}\r\n    </StartBtnContainer>\r\n  )\r\n}\r\n\r\nexport default StartButton;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAOCAYAAAC7IpUCAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NUM1ODI5QzgzOTZGMTFFOEFFNkU4RDM2QzcxREQwM0MiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NUM1ODI5QzkzOTZGMTFFOEFFNkU4RDM2QzcxREQwM0MiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo1QzU4MjlDNjM5NkYxMUU4QUU2RThEMzZDNzFERDAzQyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo1QzU4MjlDNzM5NkYxMUU4QUU2RThEMzZDNzFERDAzQyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PjeV5nEAAAEdSURBVHjazFZLDoIwEGWIJC4N8R66MN5A5UQewhNhvIILPYjoTiPRJ1AstFD6iQQnacIMtPPm9XUKeWYGySdvQCNLsN4/gPc7gPF4spnz4PY21RUFafQCWgYgJLusZyK11ADeVgTVdgEtBbkYn+tLW9xYkHKU7yoMvGw0QX1IyM+YlNkRE2WAw8OZu7vJ9RcwYCAnlcSQ67UIJisGPvfLQkyHjaZ18oBKpoI8wv2JagcOXBJ1i9Jq5mNpKgky7EAOhzZ6onOxKGWj9HFfIANumgiag9jlq5nmhDBgrIjvs31n7q3NiS0vDojnK1inJrA4qDCPjyaXDaT21/Ze9b12bSo/JofbcLBbcSSBJAVYciyo938POLCIIZj+CDAAkHCTiNbrGBwAAAAASUVORK5CYII=\"","export const TASKBAR_HEIGHT = 22;","import React from \"react\";\r\n\r\nexport interface QuickLaunchItemProps {\r\n  icon: string;\r\n}\r\n\r\nconst QuickLaunchItem: React.FC<QuickLaunchItemProps> = ({ icon }) => {\r\n  return (\r\n    <div\r\n      style={{\r\n        marginLeft: '7px'\r\n      }}\r\n      className={`icon ${icon}_16`}\r\n    />\r\n  );\r\n}\r\n\r\nexport default QuickLaunchItem;","import styled from \"@emotion/styled\";\r\nimport NotificationArea from \"./NotificationArea\";\r\nimport { TASKBAR_HEIGHT } from \"../../../../constants/Taskbar\";\r\nimport { useSystem } from \"../../../../contexts/SystemContext\";\r\nimport StartButton from \"./start/StartButton\";\r\nimport QuickLaunchItem from \"./QuickLaunchItem\";\r\nimport React from \"react\";\r\nimport IWindow from \"../../../../interfaces/IWindow\";\r\n\r\nconst TaskbarContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n\r\n  background: var(--surface);\r\n  box-shadow: inset 1px 0 #fff;\r\n  border-top: var(--border-width) solid #f4f4f4;\r\n  border-bottom: var(--border-width) solid #4e4e4e;\r\n\r\n  padding: 2px;\r\n`;\r\n\r\nexport const Panel = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  height: ${TASKBAR_HEIGHT}px;\r\n`;\r\n\r\nexport const InsetPanel = styled(Panel)`\r\n  box-shadow: var(--border-sunken-inner);\r\n  padding-left: 4px;\r\n  padding-right: 4px;\r\n`;\r\n\r\nexport const PanelSeparator = styled.div`\r\n  margin-left: 2px;\r\n  margin-right: 2px;\r\n  height: ${TASKBAR_HEIGHT}px;\r\n  width: 1px;\r\n  background-color: var(--button-highlight);\r\n  border-left: var(--border-width) solid var(--button-shadow);\r\n\r\n  content: '';\r\n`;\r\n\r\nexport const TaskbarGrip = styled.div`\r\n  width: 3px;\r\n  height: ${TASKBAR_HEIGHT - 4}px;\r\n  background: var(--surface);\r\n\r\n  box-shadow: inset -1px -1px var(--button-shadow), inset 1px 1px var(--button-highlight);\r\n  margin: 2px;\r\n`\r\n\r\nexport const WindowButton = styled.button`\r\n  width: 160px;\r\n  min-width: 50px;\r\n  padding-left: 4px;\r\n  padding-right: 4px;\r\n\r\n  display: flex;\r\n  align-items: center;\r\n  \r\n  span {\r\n    width: 100%;\r\n    overflow: hidden;\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n    text-align: left;\r\n  }\r\n\r\n  margin-right: 3px;\r\n\r\n  .icon {\r\n    margin-right: 3px;\r\n  }\r\n\r\n  &.active {\r\n    font-weight: bold;\r\n    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAAACCAYAAABytg0kAAAAG0lEQVQYV2M8cODAf3t7ewbG/////z948CADAFuqCj64BtLKAAAAAElFTkSuQmCC');\r\n  }\r\n`;\r\n\r\nconst Taskbar: React.FC = () => {\r\n  const [ system, dispatch ] = useSystem();\r\n  const [ windows, setWindows ] = React.useState<IWindow[]>([]);\r\n\r\n  /**\r\n   * We need to maintain the state for the taskbar individually as the system\r\n   * state for windows is used as a stack, therefore the taskbar would\r\n   * reflect that with the focused window always being on the end of the\r\n   * taskbar.\r\n   */\r\n  React.useEffect(() => {\r\n    // There's likely a more efficient way of doing this.\r\n    setWindows((windows) => {\r\n      // Remove removed windows\r\n      const result = windows.filter((window) => {\r\n        return system.windows.find((w) => w.uuid === window.uuid) !== undefined;\r\n      });\r\n  \r\n      // Add new windows to the current state\r\n      system.windows.forEach((window) => {\r\n        const find = result.find((w) => w.uuid === window.uuid);\r\n        if(!find) {\r\n          result.push(window);\r\n        }\r\n      });\r\n      \r\n      return result;\r\n    })\r\n  }, [ system.windows ]);\r\n\r\n  return (\r\n    <TaskbarContainer>\r\n      <Panel>\r\n        <StartButton />\r\n        <PanelSeparator />\r\n      </Panel>\r\n      <Panel>\r\n        <TaskbarGrip style={{marginRight: 0}} />\r\n\r\n        <QuickLaunchItem icon=\"icon-msie1\" />\r\n        <PanelSeparator style={{marginLeft: '7px'}} />\r\n      </Panel>\r\n\r\n      <Panel style={{width: '100%', overflow: 'hidden'}}>\r\n        <TaskbarGrip style={{marginRight: '4px'}} />\r\n        {windows.map((window) => {\r\n          return (\r\n            <WindowButton\r\n              key={window.uuid} \r\n              className={window.uuid === system.focusedWindow ? 'active' : undefined}\r\n              onClick={() => {\r\n                if(window.visible && window.uuid !== system.focusedWindow) {\r\n                  dispatch({\r\n                    type: 'SET_FOCUSED',\r\n                    uuid: window.uuid\r\n                  });\r\n                  return;\r\n                }\r\n                \r\n                dispatch({\r\n                  type: 'SET_VISIBILITY',\r\n                  uuid: window.uuid,\r\n                  value: !window.visible\r\n                });\r\n              }}\r\n              >\r\n                <div className={`icon ${window.frame.icon}_16`} />\r\n                <span>{window.frame.title}</span>\r\n            </WindowButton>\r\n          )\r\n        })}\r\n      </Panel>\r\n      \r\n      <NotificationArea />\r\n    </TaskbarContainer>\r\n  )\r\n}\r\n\r\nexport default Taskbar;","import React, { useEffect } from \"react\";\r\nimport ILocation from \"../interfaces/ILocation\";\r\n\r\nexport default function useMousePos() {\r\n  const [ mousePos, setMousePos ] = React.useState<ILocation>({ x: 0, y: 0});\r\n\r\n  useEffect(() => {\r\n    const handler = (e: any) => {\r\n      setMousePos({ x: e.x, y: e.y });\r\n    }\r\n\r\n    window.addEventListener('mousemove', handler);\r\n    return () => {\r\n      window.removeEventListener('mousemove', handler);\r\n    }\r\n  }, []);\r\n\r\n  return mousePos;\r\n}","import React from \"react\";\r\nimport IWindow from \"../interfaces/IWindow\";\r\n\r\nconst WindowContext = React.createContext<IWindow>(undefined as any);\r\n\r\nexport function WindowProvider({ window, children }: { window: IWindow, children?: React.ReactNode }) {\r\n  return (\r\n    <WindowContext.Provider value={window}>\r\n      {children}\r\n    </WindowContext.Provider>\r\n  )\r\n}\r\n\r\nexport function useWindow() {\r\n  const context = React.useContext(WindowContext);\r\n\r\n  if(context === undefined) {\r\n    throw new Error('useWindow must be used within a WindowProvider');\r\n  }\r\n\r\n  return context;\r\n}\r\n","import React from \"react\";\r\nimport { WindowFrameContainer } from \"./WindowElements\";\r\n\r\n\r\nexport interface WindowFrameProps extends React.DetailedHTMLProps<React.HTMLAttributes<HTMLDivElement>, HTMLDivElement> {\r\n  x: number;\r\n  y: number;\r\n  z?: number;\r\n  \r\n  width?: number;\r\n  height?: number;\r\n\r\n  docked?: boolean;\r\n  focused?: boolean;\r\n\r\n  children?: React.ReactNode;\r\n}\r\n\r\nconst WindowFrame = React.forwardRef<HTMLDivElement, WindowFrameProps>(({ children, x, y, z, width, height, docked, focused, ...props }, ref) => {\r\n  return (\r\n    <WindowFrameContainer\r\n      style={{\r\n        width: docked ? '100%' : width,\r\n        height: docked ? '100%' : height,\r\n        transform: docked ? undefined : `translate3d(${x}px, ${y}px, 0)`,\r\n        zIndex: z\r\n      }}\r\n      \r\n      className={`window ${docked ? 'docked' : ''} ${focused ? 'focused' : ''}`}\r\n      ref={ref}\r\n\r\n      {...props}\r\n      >\r\n      {children}\r\n    </WindowFrameContainer>\r\n  );\r\n})\r\n\r\nexport default WindowFrame;","import React from \"react\";\r\n\r\nexport interface IconProps {\r\n  icon: string;\r\n  size: 16 | 32 | 48;\r\n  \r\n  className?: string;\r\n}\r\n\r\nconst Icon = React.forwardRef<HTMLDivElement, IconProps>(({ icon, size, className }, ref) => (\r\n  <div className={`icon ${icon}_${size} ${className}`} />\r\n))\r\n\r\nexport default Icon;","import React from \"react\";\r\nimport ActionType from \"../../../../../interfaces/ActionType\";\r\nimport Icon from \"../../../global/Icon\";\r\nimport { WindowTitleBarContainer, WindowTitleBarText } from \"./WindowElements\";\r\n\r\nexport interface WindowTitleBarProps {\r\n  title: string;\r\n\r\n  icon?: string;\r\n  docked?: boolean;\r\n  availableActions: ActionType[];\r\n\r\n  onAction: (action: ActionType) => void;\r\n}\r\n\r\nconst WindowTitleBar = React.forwardRef<HTMLDivElement, WindowTitleBarProps>(({ title, icon, docked, availableActions, onAction }, ref) => {\r\n  return (\r\n    <WindowTitleBarContainer className=\"title-bar drag-point\">\r\n      <WindowTitleBarText className=\"title-bar-text drag-point\">\r\n        {icon && <Icon size={16} icon={icon} className=\"drag-point\" />}\r\n        {title}\r\n      </WindowTitleBarText>\r\n\r\n      <div className=\"title-bar-controls\">\r\n        {availableActions.includes(ActionType.MINIMIZE) && (\r\n          <button \r\n            aria-label=\"Minimize\"\r\n            onClick={() => { onAction(ActionType.MINIMIZE) }}\r\n          />\r\n        )}\r\n\r\n        {availableActions.includes(ActionType.RESTORE) && (\r\n          <button \r\n            aria-label={docked ? 'Restore' : 'Maximize'}\r\n            onClick={() => { onAction(ActionType.RESTORE) }}\r\n          />\r\n        )}\r\n        \r\n        <button \r\n          aria-label=\"Close\"\r\n          disabled={!availableActions.includes(ActionType.CLOSE)}\r\n          onClick={() => { onAction(ActionType.CLOSE) }}\r\n        />\r\n      </div>\r\n    </WindowTitleBarContainer>\r\n  );\r\n});\r\n\r\nexport default WindowTitleBar;","import React from \"react\";\r\nimport { useSystem } from \"../../../../contexts/SystemContext\";\r\nimport { WindowProvider } from \"../../../../contexts/WindowContext\";\r\nimport ActionType from \"../../../../interfaces/ActionType\";\r\nimport IWindow from \"../../../../interfaces/IWindow\";\r\nimport WindowFrame from \"./structure/WindowFrame\";\r\nimport WindowTitleBar from \"./structure/WindowTitleBar\";\r\n\r\nexport interface WindowProps  {\r\n  window: IWindow;\r\n  z: number;\r\n}\r\n\r\nconst Window: React.FC<WindowProps> = ({ children, window, ...props }) => {\r\n  const [state, dispatch] = useSystem();\r\n\r\n  return (\r\n    <WindowProvider window={window}>\r\n\r\n      {window.frame.decorated ? (\r\n        <WindowFrame \r\n          data-uuid={window.uuid}\r\n          focused={window.uuid === state.focusedWindow}\r\n\r\n          onMouseDown={() => {\r\n            dispatch({\r\n              type: 'SET_FOCUSED',\r\n              uuid: window.uuid\r\n            });\r\n          }}\r\n\r\n          {...window.frame}\r\n          {...props}\r\n          >\r\n          <WindowTitleBar\r\n            {...window.frame}\r\n            onAction={(action) => {\r\n              switch(action) {\r\n                case ActionType.MINIMIZE:\r\n                  dispatch({\r\n                    type: 'SET_VISIBILITY',\r\n                    uuid: window.uuid,\r\n                    value: false,\r\n                  });\r\n                  break;\r\n\r\n                case ActionType.RESTORE:\r\n                  dispatch({\r\n                    type: 'TOGGLE_DOCKED',\r\n                    uuid: window.uuid,\r\n                  });\r\n                  break;\r\n              }\r\n            }}\r\n            availableActions={window.frame.actions}\r\n            />\r\n\r\n            <window.frame.component />\r\n        </WindowFrame>\r\n      ) : (\r\n        <window.frame.component />\r\n      )}\r\n\r\n    </WindowProvider>\r\n  );\r\n}\r\n\r\nexport default Window;","import styled from \"@emotion/styled\";\r\nimport React from \"react\";\r\nimport useMousePos from \"../../../hooks/useMousePos\";\r\nimport DragType from \"../../../interfaces/DragType\";\r\nimport ISystemState from \"../../../interfaces/state/ISystemState\";\r\n\r\nconst WindowDragOutline = styled.div`\r\n  z-index: 9999;\r\n  outline: 1px dotted black;\r\n  outline-offset: --4px;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  will-change: transform;\r\n  will-change: contents;\r\n`;\r\n\r\nexport interface WindowDragProps {\r\n  dragging?: ISystemState['dragging'];\r\n}\r\n\r\nconst WindowDrag: React.FC<WindowDragProps> = ({ dragging }) => {\r\n  const mousePos = useMousePos();\r\n\r\n  if(!dragging) {\r\n    return (<> </>);\r\n  }\r\n\r\n  if(dragging.type === DragType.MOVE && dragging.target) {\r\n    return (\r\n      <WindowDragOutline\r\n        style={{\r\n          width: dragging.target.frame.width,\r\n          height: dragging.target.frame.height,\r\n          transform: `translate3d(${dragging.target.frame.x + mousePos.x - dragging.mousePos.x}px, ${dragging.target.frame.y + mousePos.y - dragging.mousePos.y}px, 0)`\r\n        }}\r\n      />\r\n    )\r\n  }\r\n    \r\n  if(dragging.type === DragType.RESIZE && dragging.target) {\r\n    return (\r\n      <WindowDragOutline\r\n        style={{\r\n          cursor: 'nwse-resize',\r\n          transform: `translate3d(${dragging.target.frame.x}px, ${dragging.target.frame.y}px, 0)`,\r\n          width: dragging.target.frame.width + (mousePos.x - dragging.mousePos.x),\r\n          height: dragging.target.frame.height + (mousePos.y - dragging.mousePos.y)\r\n        }}\r\n      />\r\n    );\r\n  }\r\n\r\n  if(dragging.type === DragType.HIGHLIGHT) {\r\n    return (\r\n      <WindowDragOutline\r\n        style={{\r\n          transform: `translate3d(${dragging.mousePos.x - Math.abs(Math.min(0, mousePos.x - dragging.mousePos.x))}px, ${dragging.mousePos.y - Math.abs(Math.min(0, mousePos.y - dragging.mousePos.y))}px, 0)`,\r\n          width: Math.abs(mousePos.x - dragging.mousePos.x),\r\n          height: Math.abs(mousePos.y - dragging.mousePos.y),\r\n          zIndex: 1\r\n        }}\r\n      />\r\n    )\r\n  }\r\n\r\n  return (<> </>);\r\n} \r\n\r\nexport default WindowDrag;","import styled from \"@emotion/styled\";\r\nimport React from \"react\";\r\nimport { useSystem } from \"../../../contexts/SystemContext\";\r\nimport useMousePos from \"../../../hooks/useMousePos\";\r\nimport DragType from \"../../../interfaces/DragType\";\r\nimport Window from \"./window/Window\";\r\nimport WindowDrag from \"./WindowDrag\";\r\n\r\nconst WindowContainer = styled.div`\r\n  flex: 1 1 auto;\r\n  flex-direction: column;\r\n  position: relative;\r\n\r\n  min-height: 100%;\r\n  min-width: 100%;\r\n`\r\n\r\nfunction findWindowContainer(element: HTMLElement, limit: number = 8): {el: HTMLElement, uuid: string} | null {\r\n  let current: HTMLElement = element;\r\n  for (let i = 0; i < limit; i++) {\r\n    const uuid = current.getAttribute('data-uuid');\r\n    if(uuid !== null) {\r\n      return {el: current, uuid};\r\n    }\r\n\r\n    if(current.parentElement) {\r\n      current = current.parentElement;\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  return null;\r\n}\r\n\r\ninterface WindowAreaProps {\r\n  preventHighlighting?: boolean;\r\n}\r\n\r\nconst WindowArea: React.FC<WindowAreaProps> = ({ children, preventHighlighting }) => {\r\n  const [ system, dispatch ] = useSystem();\r\n  const mousePos = useMousePos();\r\n\r\n  const handleDragStop = () => {\r\n    if(!system.dragging) {\r\n      return;\r\n    }\r\n\r\n    switch(system.dragging.type) {\r\n      case DragType.MOVE:\r\n        if(!system.dragging.target) return;\r\n        dispatch({\r\n          type: 'SET_LOCATION',\r\n          uuid: system.dragging.target.uuid,\r\n          x: system.dragging.target.frame.x + mousePos.x - system.dragging.mousePos.x,\r\n          y: system.dragging.target.frame.y + mousePos.y - system.dragging.mousePos.y\r\n        })\r\n        break;\r\n      case DragType.RESIZE:\r\n        if(!system.dragging.target) return;\r\n        dispatch({\r\n          type: 'SET_SIZE',\r\n          uuid: system.dragging.target.uuid,\r\n          width: system.dragging.target.frame.width + (mousePos.x - system.dragging.mousePos.x),\r\n          height: system.dragging.target.frame.height + (mousePos.y - system.dragging.mousePos.y)\r\n        })\r\n        break;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <WindowContainer\r\n      className=\"desktop\"\r\n      onMouseDown={(e) => {\r\n        const el = e.target as HTMLElement;\r\n        let type: DragType | undefined = undefined;\r\n\r\n        if(el.classList.contains('drag-point')) {\r\n          type = DragType.MOVE;\r\n        } else if(el.classList.contains('resize-point')) {\r\n          type = DragType.RESIZE;\r\n        } else if(el.classList.contains('desktop')){\r\n          if(preventHighlighting) {\r\n            return;\r\n          }\r\n          \r\n          dispatch({\r\n            type: 'START_DRAG',\r\n            action: DragType.HIGHLIGHT,\r\n            mouse: mousePos\r\n          });\r\n          e.preventDefault();\r\n          return;\r\n        }\r\n\r\n        if(type !== undefined) {\r\n          const container = findWindowContainer(el);\r\n          if(!container) {\r\n            return;\r\n          }\r\n\r\n          const windowInstance = system.windows.find((w) => w.uuid === container.uuid);\r\n\r\n          if(!windowInstance?.frame.docked) {\r\n            dispatch({\r\n              type: 'SET_DOCKED',\r\n              uuid: container.uuid,\r\n              value: false\r\n            });\r\n  \r\n            dispatch({\r\n              type: 'START_DRAG',\r\n              uuid: container.uuid,\r\n              action: type,\r\n              mouse: mousePos\r\n            });\r\n          }\r\n\r\n          e.preventDefault();\r\n          return;\r\n        }\r\n      }}\r\n\r\n      onMouseUp={() => {\r\n        if(system.dragging) {\r\n          handleDragStop();\r\n          dispatch({\r\n            type: 'STOP_DRAG'\r\n          });\r\n        }\r\n      }}\r\n      >\r\n        <WindowDrag dragging={system.dragging} />\r\n\r\n        {system.windows.filter(window => window.visible === true).map((window, i) => (\r\n          <Window key={window.uuid} z={i + 5} window={window} />\r\n        ))}\r\n\r\n        {children}\r\n    </WindowContainer>\r\n  )\r\n}\r\n\r\nexport default WindowArea;","export default __webpack_public_path__ + \"static/media/startup.a52aaba4.mp3\";","import React, { useEffect } from \"react\";\r\nimport { SystemProvider, useSystem } from \"../../contexts/SystemContext\";\r\nimport createApplicationInstance from \"../../utils/CreateApplicationInstance\";\r\nimport NotepadApp from \"../element/application/notepad/NotepadApp\";\r\nimport BuildInfo from \"../element/desktop/BuildInfo\";\r\nimport DesktopContainer from \"../element/desktop/DesktopContainer\";\r\nimport Taskbar from \"../element/desktop/taskbar/Taskbar\";\r\nimport WindowArea from \"../element/desktop/WindowArea\";\r\nimport startupSound from \"../../../assets/sound/98/startup.mp3\";\r\nimport useSound from \"use-sound\";\r\nimport { useUser } from \"../../contexts/UserContext\";\r\n\r\nconst DesktopInner: React.FC = () => {\r\n  const [{ volume }] = useUser();\r\n  const [ , dispatch ] = useSystem();\r\n  const [ playStartup ] = useSound(startupSound, { volume });\r\n  \r\n  useEffect(() => {\r\n    dispatch({\r\n      type: 'CREATE_WINDOW',\r\n      window: createApplicationInstance(NotepadApp)\r\n    });\r\n  }, [ dispatch ])\r\n\r\n  useEffect(() => {\r\n    playStartup();\r\n  }, [ playStartup ])\r\n  \r\n  return (\r\n    <DesktopContainer>\r\n      <WindowArea>\r\n        <BuildInfo />\r\n      </WindowArea>\r\n      \r\n      <Taskbar />\r\n    </DesktopContainer>\r\n  )\r\n}\r\n\r\nconst Desktop: React.FC = () => {\r\n  return (\r\n    <SystemProvider>\r\n      <DesktopInner />\r\n    </SystemProvider>\r\n  );\r\n}\r\n\r\n\r\nexport default Desktop;","import { useSystem } from \"../../../contexts/SystemContext\";\r\nimport { useWindow } from \"../../../contexts/WindowContext\";\r\nimport ActionType from \"../../../interfaces/ActionType\";\r\nimport { WindowBody } from \"../desktop/window/structure/WindowElements\";\r\nimport WindowFrame from \"../desktop/window/structure/WindowFrame\";\r\nimport WindowTitleBar from \"../desktop/window/structure/WindowTitleBar\";\r\nimport Icon from \"../global/Icon\";\r\nimport { useUser } from \"../../../contexts/UserContext\";\r\nimport React from \"react\";\r\nimport defineApplication from \"../../../utils/DefineApplication\";\r\n\r\nconst LoginComponent = () => {\r\n  const [ state, dispatch ] = useSystem();\r\n  const [ , userDispatch ] = useUser();\r\n\r\n  const [ username, setUsername ] = React.useState(\"Anon\");\r\n\r\n  const window = useWindow();\r\n\r\n  const doLogin = (anonymous = false) => {\r\n    if(anonymous) {\r\n      userDispatch({\r\n        type: 'SET_USER',\r\n        value: null\r\n      });\r\n    } else {\r\n      userDispatch({\r\n        type: 'SET_USER',\r\n        value: {\r\n          name: username\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  return (\r\n    <WindowFrame\r\n        data-uuid={window.uuid}\r\n        focused={window.uuid === state.focusedWindow}\r\n\r\n        onMouseDown={() => {\r\n          dispatch({\r\n            type: 'SET_FOCUSED',\r\n            uuid: window.uuid\r\n          });\r\n        }}\r\n\r\n        {...window.frame}\r\n        >\r\n        <WindowTitleBar\r\n          {...window.frame}\r\n          onAction={(action) => {\r\n            if(action === ActionType.CLOSE) {\r\n              doLogin(true);\r\n            }\r\n          }}\r\n          availableActions={window.frame.actions}\r\n          />\r\n\r\n          <WindowBody>\r\n            <div className=\"flex flex-row p-4 space-x-6\">\r\n              <div>\r\n                <Icon icon=\"icon-network_cool_two_pcs\" size={48} />\r\n              </div>\r\n              \r\n              <form className=\"flex flex-col w-100\">\r\n                <div>Enter your network password for Michaelsoft Networking</div>\r\n\r\n                <div className=\"grid gap-x-6 gap-y-2 mt-8 whitespace-nowrap\" style={{gridTemplateColumns: 'max-content auto'}}>\r\n                  <label>User name:</label>\r\n                  <input className=\"w-full\" type=\"text\" value={username} onChange={(e) => setUsername(e.target.value)} />\r\n                \r\n                  {/* Purposely prevent auto completion of passwords in the field. */}\r\n                  <label>Password:</label>\r\n                  <input className=\"w-full\" type=\"password\" autoComplete=\"none\" />\r\n                </div>\r\n              </form>\r\n\r\n              <div className=\"flex flex-col\">\r\n                <button autoFocus onClick={() => doLogin()}>OK</button>\r\n                <button className=\"mt-2\" onClick={() => doLogin(true)}>Cancel</button>\r\n              </div>\r\n            </div>\r\n          </WindowBody>\r\n      </WindowFrame>\r\n\r\n  )\r\n};\r\n\r\nexport default defineApplication(LoginComponent, {\r\n  title: 'Enter Network Password',\r\n  width: 450,\r\n  height: 140,\r\n  resizable: false,\r\n  x: (window.innerWidth / 2 ) - (450 / 2),\r\n  y: (window.innerHeight / 2 ) - (140 / 2),\r\n  actions: [ ActionType.CLOSE ],\r\n  decorated: false,\r\n});","import React from \"react\";\r\nimport IApplicationDetails from \"../interfaces/IApplicationDetails\";\r\nimport IBaseApplication from \"../interfaces/IBaseApplication\";\r\n\r\n/**\r\n * This seems super counter-intuitive but allows for a nicer interface when\r\n * constructing new applications, this also allows for changing definitions\r\n * upon creation if required in the future.\r\n */\r\nexport default function defineApplication(component: React.FC, details: IApplicationDetails): IBaseApplication {\r\n  return {\r\n    details,\r\n    component\r\n  };\r\n}","import React from \"react\";\r\nimport { SystemProvider, useSystem } from \"../../contexts/SystemContext\";\r\nimport createApplicationInstance from \"../../utils/CreateApplicationInstance\";\r\nimport DesktopContainer from \"../element/desktop/DesktopContainer\";\r\nimport WindowArea from \"../element/desktop/WindowArea\";\r\nimport LoginWindow from \"../element/login/LoginWindow\";\r\n\r\nconst LoginInner: React.FC = () => {\r\n  const [ , dispatch ] = useSystem();\r\n\r\n  React.useEffect(() => {\r\n    dispatch({\r\n      type: 'CREATE_WINDOW',\r\n      window: createApplicationInstance(LoginWindow),\r\n      focus: true,\r\n    })\r\n  }, [ dispatch ]);\r\n\r\n  return (\r\n    <DesktopContainer>\r\n      <WindowArea preventHighlighting />\r\n    </DesktopContainer>\r\n  )\r\n}\r\n\r\nconst Login: React.FC = () => {\r\n  return (\r\n    <SystemProvider>\r\n      <LoginInner />\r\n    </SystemProvider>\r\n  )\r\n}\r\n\r\nexport default Login;","import React from \"react\";\r\nimport Desktop from \"./app/components/screen/Desktop\";\r\nimport Login from \"./app/components/screen/Login\";\r\nimport { useUser } from \"./app/contexts/UserContext\";\r\n\r\nconst App: React.FC = () => {\r\n  const [ { authenticated } ] = useUser();\r\n\r\n  if(!authenticated) {\r\n    return (\r\n      <Login />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Desktop />\r\n  );\r\n}\r\n\r\nexport default App;","\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport 'normalize.css/normalize.css';\nimport './assets/spritesheet/sheet.css';\nimport './assets/_variables.css';\nimport 'xp.css/dist/98.css';\nimport './index.css';\n\nimport reportWebVitals from './reportWebVitals';\nimport { UserProvider } from './app/contexts/UserContext';\nimport App from './app';\n\nReactDOM.render(\n  <React.StrictMode>\n    <UserProvider>\n\n      <App />\n      \n    </UserProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}